<!-- Add Printer Modal -->
<div id="addPrinterModal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h3>Add Printer</h3>
            <button class="close" onclick="closeAddPrinterModal()">&times;</button>
        </div>
        <form id="addPrinterForm" onsubmit="addPrinter(event)">
            <div class="form-group">
                <label for="printerName">Printer Name *</label>
                <input type="text" id="printerName" name="name" required placeholder="e.g., Prusa MK3S+">
                <small>Give your printer a descriptive name</small>
            </div>
            <div class="form-group">
                <label for="printerIP">IP Address *</label>
                <input type="text" id="printerIP" name="ip_address" required placeholder="192.168.1.100">
                <small>Local IP address of your printer</small>
            </div>
            <div class="form-group">
                <label for="printerAPIKey">API Key *</label>
                <input type="password" id="printerAPIKey" name="api_key" required placeholder="Your PrusaLink API key">
                <small>Found in PrusaLink settings on your printer</small>
            </div>
            <div class="form-group">
                <label for="printerModel">Printer Model</label>
                <select id="printerModel" name="model">
                    <option value="MK3S+">MK3S+</option>
                    <option value="MK3S">MK3S</option>
                    <option value="MINI+">MINI+</option>
                    <option value="MINI">MINI</option>
                    <option value="XL">XL</option>
                    <option value="Other">Other</option>
                </select>
                <small>Select your printer model (auto-detected if possible)</small>
            </div>
            <div class="form-group">
                <label for="printerToolheads">Number of Toolheads</label>
                <select id="printerToolheads" name="toolheads">
                    <option value="1">1 Toolhead</option>
                    <option value="2">2 Toolheads</option>
                    <option value="3">3 Toolheads</option>
                    <option value="4">4 Toolheads</option>
                    <option value="5">5 Toolheads</option>
                </select>
                <small>How many toolheads does your printer have?</small>
            </div>
            <div class="modal-actions">
                <button type="button" class="btn btn-secondary" onclick="closeAddPrinterModal()">Cancel</button>
                <button type="submit" class="btn">Add Printer</button>
            </div>
        </form>
    </div>
</div>

<!-- Edit Printer Modal -->
<div id="editPrinterModal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h3>Edit Printer</h3>
            <button class="close" onclick="closeEditPrinterModal()">&times;</button>
        </div>
        <form id="editPrinterForm" onsubmit="updatePrinter(event)">
            <input type="hidden" id="editPrinterId" name="id">
            <div class="form-group">
                <label for="editPrinterName">Printer Name *</label>
                <input type="text" id="editPrinterName" name="name" required>
            </div>
            <div class="form-group">
                <label for="editPrinterIP">IP Address *</label>
                <input type="text" id="editPrinterIP" name="ip_address" required>
            </div>
            <div class="form-group">
                <label for="editPrinterAPIKey">API Key *</label>
                <input type="password" id="editPrinterAPIKey" name="api_key" required>
            </div>
            <div class="form-group">
                <label for="editPrinterModel">Printer Model</label>
                <select id="editPrinterModel" name="model">
                    <option value="MK3S+">MK3S+</option>
                    <option value="MK3S">MK3S</option>
                    <option value="MINI+">MINI+</option>
                    <option value="MINI">MINI</option>
                    <option value="XL">XL</option>
                    <option value="Other">Other</option>
                </select>
            </div>
            <div class="form-group">
                <label for="editPrinterToolheads">Number of Toolheads</label>
                <select id="editPrinterToolheads" name="toolheads">
                    <option value="1">1 Toolhead</option>
                    <option value="2">2 Toolheads</option>
                    <option value="3">3 Toolheads</option>
                    <option value="4">4 Toolheads</option>
                    <option value="5">5 Toolheads</option>
                </select>
            </div>
            <div class="modal-actions">
                <button type="button" class="btn btn-secondary" onclick="closeEditPrinterModal()">Cancel</button>
                <button type="submit" class="btn">Update Printer</button>
            </div>
        </form>
    </div>
</div>

<!-- NFC QR Code Modal -->
<div id="nfcQrModal" class="nfc-qr-modal">
    <div class="nfc-qr-content">
        <h3 id="nfcQrTitle">NFC QR Code</h3>
        <div class="nfc-qr-modal-code">
            <img id="nfcQrImage" src="" alt="QR Code">
        </div>
        <div class="nfc-url" id="nfcQrUrl"></div>
        <div class="nfc-instructions">
            <h4>How to use this QR code:</h4>
            <ol>
                <li>Open NFC Tools Pro on your phone</li>
                <li>Tap "Write" and then "Add a record"</li>
                <li>Select "URL" and scan this QR code</li>
                <li>Write the tag to your NFC sticker</li>
                <li>Test by scanning the tag with your phone</li>
            </ol>
        </div>
        <button class="btn" onclick="closeNfcQrModal()">Close</button>
    </div>
</div>
